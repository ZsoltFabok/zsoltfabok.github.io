<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<head>
<meta charset="utf-8">
<title>The Optimal Batch Size &#8211; Zsolt Fabók</title>
<meta name="description" content="If you have read the coin game post (in case you haven't, click here, read it - it is a quick and good read by the way -, and come back), you may wonder why the batch size of 6 produced the shortest completion time in the example game. Let's find out.<br/><br/>more...">
<meta name="keywords" content="kanban, batch, batch size, lean">



<!-- Twitter Cards -->
<meta name="twitter:title" content="The Optimal Batch Size">
<meta name="twitter:description" content="If you have read the coin game post (in case you haven't, click here, read it - it is a quick and good read by the way -, and come back), you may wonder why the batch size of 6 produced the shortest completion time in the example game. Let's find out.<br/><br/>more...">
<meta name="twitter:site" content="@ZsoltFabok">
<meta name="twitter:creator" content="@ZsoltFabok">

<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="/images/site-logo.png">

<!-- Open Graph -->
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="The Optimal Batch Size">
<meta property="og:description" content="If you have read the coin game post (in case you haven't, click here, read it - it is a quick and good read by the way -, and come back), you may wonder why the batch size of 6 produced the shortest completion time in the example game. Let's find out.<br/><br/>more...">
<meta property="og:url" content="/blog/2013/03/the-optimal-batch-size/">
<meta property="og:site_name" content="Zsolt Fabók">






<link rel="canonical" href="/blog/2013/03/the-optimal-batch-size/">
<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Zsolt Fabók Feed">

<!-- https://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<!-- Webfonts -->
<script src="https://use.edgefonts.net/source-sans-pro:n2,i2,n3,i3,n4,i4,n6,i6,n7,i7,n9,i9;source-code-pro:n4,n7;volkhov.js"></script>

<meta http-equiv="cleartype" content="on">

<!-- HTML5 Shiv and Media Query Support -->
<!--[if lt IE 9]>
  <script src="/assets/js/vendor/html5shiv.min.js"></script>
  <script src="/assets/js/vendor/respond.min.js"></script>
<![endif]-->

<!-- Modernizr -->
<script src="/assets/js/vendor/modernizr-2.7.1.custom.min.js"></script>



<!-- Icons -->
<!-- 16x16 -->
<link rel="shortcut icon" href="/favicon.ico">
<!-- 32x32 -->
<link rel="shortcut icon" href="/favicon.png">
<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon-precomposed.png">
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="/images/apple-touch-icon-72x72-precomposed.png">
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="/images/apple-touch-icon-114x114-precomposed.png">
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="/images/apple-touch-icon-144x144-precomposed.png">

</head>

<body id="post">

<div class="navigation-wrapper">
	<nav role="navigation" id="site-nav" class="animated drop">
	    <ul>
      
		    
		        
		    
		    <li><a href="/" >Home</a></li>
		  
		    
		        
		    
		    <li><a href="/blog/" >Posts</a></li>
		  
		    
		        
		    
		    <li><a href="/speaking/" >Speaking</a></li>
		  
		    
		        
		    
		    <li><a href="/activities/" >Activities</a></li>
		  
		    
		        
		    
		    <li><a href="/about/" >About</a></li>
		  
		    
		        
		    
		    <li><a href="/contact/" >Contact</a></li>
		  
		    
		        
		    
		    <li><a href="/search/" >Search</a></li>
		  
	    </ul>
	</nav>
</div><!-- /.navigation-wrapper -->

<!--[if lt IE 9]><div class="upgrade"><strong><a href="http://whatbrowser.org/">Your browser is quite old!</strong> Why not upgrade to a different browser to better enjoy this site?</a></div><![endif]-->

<!-- <header class="masthead">
	<div class="wrap">
      
  		<a href="/" class="site-logo" rel="home" title="Zsolt Fabók"><img src="/images/site-logo.png" width="200" height="200" alt="Zsolt Fabók logo" class="animated fadeInDown"></a>
      
      <h1 class="site-title animated fadeIn"><a href="/">Zsolt Fabók</a></h1>
		<h2 class="site-description animated fadeIn" itemprop="description">Practical ideas on kanban, lean, scrum, xp, java, programming...</h2>
	</div>
</header><!-- /.masthead -->

<div class="js-menu-screen menu-screen"></div>


<div id="main" role="main">
  <article class="hentry">
    
    <div class="entry-wrapper">
      <header class="entry-header">
        
          <h1 class="center">The Optimal Batch Size</h1>
        
      </header>
      <footer class="entry-meta">
        
        
        
          <img src="/images/fabokzs.png" class="bio-photo" alt="Zsolt Fabók bio photo"></a>
        
        <span class="author-block">By <span class="author-name">Zsolt Fabók</span></span>
        <span class="entry-date date published"><time datetime="2013-03-24T00:00:00+01:00"><i class="fa fa-calendar-o"></i> March 24, 2013</time></span>
        
        <span class="entry-comments"><i class="fa fa-comment-o"></i> <a href="#disqus_thread">Comment</a></span>
        <span class="social-share-twitter">
  <a href="https://twitter.com/intent/tweet?hashtags=kanban,batch,batchsize,lean&amp;text=The%20Optimal%20Batch%20Size&amp;url=/blog/2013/03/the-optimal-batch-size/&amp;via=ZsoltFabok" title="Share on Twitter" itemprop="Twitter"><i class="fa fa-twitter-square"></i> Tweet</a>
</span>
<span class="social-share-facebook">
  <a href="https://www.facebook.com/sharer/sharer.php?u=/blog/2013/03/the-optimal-batch-size/" title="Share on Facebook" itemprop="Facebook"><i class="fa fa-facebook-square"></i> Like</a>
</span>
<span class="social-share-googleplus">
  <a href="https://plus.google.com/share?url=/blog/2013/03/the-optimal-batch-size/" title="Share on Google Plus" itemprop="GooglePlus"><i class="fa fa-google-plus-square"></i> +1</a>
</span>
<!-- /.social-share -->
        
      </footer>
      <div class="entry-content">
        <p><img class="right" src="/images/posts/2013-03-23-optimal-batch-size/u_curve.png" />
If you have read the <a href="/blog/2013/03/coin-game">coin game post</a> (in case you haven’t, click <a href="/blog/2013/03/coin-game">here</a>, read it - it is a quick and good read by the way -, and come back), you may wonder why the batch size of 6 produced the shortest completion time in the example game. Let’s find out. If we have a look at the flow of the game, we can find two major components: turning over the coins and moving them around (transfer). If you think about it, the time the players need to turn over all the coins is almost the same in each round. This action is so simple and we get so used to it that improving it during the game - in the given time frame - is nearly impossible. So, it is safe to state that the time spent on this component is constant during the game. However, if it is the case that the group finishes one round in 1 minute and 10 seconds, and another in 1 minute and 40 seconds, <strong>the variable must be the other component, which is the transfer time</strong>. It seems that <strong>there is a connection between the batch size and the time we need to move the batches around</strong>. Fortunately, <a href="http://www.reinertsenassociates.com/">Donald G. Reinertsen</a> can explain this connection, and show us why the batch size of 6 produced the shortest transfer time and not 1 or 50.</p>

<!-- more -->
<p><img class="right" src="/images/posts/2013-03-23-optimal-batch-size/the-principles-of-product-development-flow.png" />
He explains this phenomenon in his book <a href="http://amzn.to/ZkW6xr">The Principles of Product Development Flow</a> with the <em>U-Curve</em>, but before getting into that, let me go back to the analysis of the turnover time and transfer time components for a while. If you have a bit closer look at the flow of the game, you’ll see three important things, not just two: the time required to turn over the coins, the time required to move the coins (both unturned and overturned), and the time a coin needs to go through all the players (lead time). I’ve already talked about the <em>turnover part</em>, so let’s focus on the other two. Similarly to the turnover action, I don’t see if one can improve the moving action significantly during the game. It is a simple straightforward thing: pick up the coins, push them or pull them. That is it. However, the batch size determines how often one should perform this action and that is not constant at all. The effort of picking and moving the coins multiplied by the frequency gives the <strong>transaction cost</strong> that actually depends on the size of the batch.</p>

<p>The last thing is the <a href="/blog/2013/07/lead-time">lead time</a>. It has two parts: a turnover part and a waiting part. Let’s say that a player is turning over one coin and has one coin waiting. A coin is said to be waiting when the player is in possession that coin, but is turning over other coins. The wait can happen after the turnover or before depending on the group’s strategy (pull or push). The longer the waiting time, the longer the lead time. The connection between the size of the batch and the waiting time is linear: for a batch size of 10 the next batch has to wait 10 times as long as the time a player needs to turn over a coin. For a batch size of 5, it is only 5 times as long. This waiting has a certain cost to the group - longer overall completion time - , and it is called <a href="/blog/tag/inventory">inventory</a> or <strong>holding cost</strong>.</p>

<p><img class="right" src="/images/posts/2013-03-23-optimal-batch-size/optimal_batch_size.png" />
Don Reinertsen’s genius was to realize that there was a connection between the transaction and holding costs. Have a look at the diagram on the right. You can see how the transaction cost changes by the size of the batch. The more items I <em>transfer</em> at once the lower the overall transaction cost is. On the other hand, the more items I have in a batch the larger my inventories are, which increases the holding cost. <strong>The optimal batch size is at the minimum of the aggregation of transformation and holding costs.</strong> The aggregated values form a kind of <em>U-shape</em>, hence the name: <em>U-Curve optimisation</em>.</p>

<p>Here is an example: let’s say I’m using wood for heating my house. If I buy all the wood at once for the whole heating season, my transaction cost will be low, because I have to pay the cost of the fuel and time only once, but I’ll need a place where I can store that huge amount of wood. So I have to build and maintain a storage shed, therefore the holding cost will be high. On the other hand, if I’m taking as much wood as I can use - let’s say - in two days, the holding costs are going to be low, but the transaction costs manifested in fuel and time are going be high. In order to reduce cost I have to find the optimal batch size. There is an important lesson here: <strong>the smallest batch size is not always the best batch size</strong>. <strong>We tend to forget about the transaction and holding costs, but it can hurt our business</strong>.</p>

<p>Let’s get back to the coin game. Unfortunately, I don’t recall all the details about the example game, and therefore I’m unable to show you how to calculate the optimal batch size for that particular game, but here is another example:</p>

<p><img class="center" src="/images/posts/2013-03-23-optimal-batch-size/example.png" /></p>

<p>The calculation is not that straightforward in software development, but remember: the group that played the coin came had no idea about the optimal batch size concept, and still managed to find it by <strong>experimenting</strong>. Nevertheless, the idea that <strong>the transformation and holding costs can help you find the optimal batch size</strong> is extremely helpful. For example: the smaller the batches, the more frequently you have to run your test cases, but you have to do less merging: high transaction cost, low holding cost. While increasing the batch size the test running time decreases, but the merge time increases. The task is given: find the batch size that produces the optimal test running and merging times.</p>

<div class="related-articles"><h5>You may also find interesting:<small class="pull-right">(<a href="/blog/">View all posts</a>)</small></h5><ul><li><a href="/blog/2011/09/expand-and-collapse-got-beaten/">When Expand and Collapse Got Beaten</a></li><li><a href="/blog/2012/08/waste-in-software-development/">Waste in Software Development</a></li><li><a href="/blog/2013/03/coin-game/">The Coin Game</a></li></ul></div>


        <span class="entry-tags inline"><ul><li><a href="/blog/tag/kanban" title="kanban">kanban</a></li><li><a href="/blog/tag/batch" title="batch">batch</a></li><li><a href="/blog/tag/batch-size" title="batch size">batch&nbsp;size</a></li><li><a href="/blog/tag/lean" title="lean">lean</a></li></ul></span>
        <hr/>
        <div class="social-share">
          <h4>Share on</h4>
          <ul>
            <li>
              <a rel="nofollow" id="tweet" href="https://twitter.com/intent/tweet?text=/blog/2013/03/the-optimal-batch-size/" class="twitter" title="Share on Twitter"><i class="fa fa-twitter"></i><span> Twitter</span></a>
            </li>
            <li>
              <a rel="nofollow" id="like" href="https://www.facebook.com/sharer/sharer.php?u=/blog/2013/03/the-optimal-batch-size/" class="facebook" title="Share on Facebook"><i class="fa fa-facebook"></i><span> Facebook</span></a>
            </li>
            <li>
              <a rel="nofollow" id="plus" href="https://plus.google.com/share?url=/blog/2013/03/the-optimal-batch-size/" class="google-plus" title="Share on Google Plus"><i class="fa fa-google-plus"></i><span> Google+</span></a>
            </li>
            <li>
              <a rel="nofollow" id="linkedin" class="linkedin" href="https://www.linkedin.com/cws/share?url=/blog/2013/03/the-optimal-batch-size/" title="Share on Linkedin"><i class="fa fa-linkedin"></i><span> Linkedin</span></a>
            </li>
          </ul>
          </div><!-- /.social-share -->
          <script>
          (function(){
              var openWindowPopup = function(e) {
                if(!e) return;
                e.preventDefault();
                window.open(this.href, "intent", "scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=550,height=420,left=" + (window.screen ? Math.round(screen.width / 2 - 275) : 50) + ",top=" + 100);
              };
            var ids = ['tweet', 'like', 'plus', 'linkedin'];
            for(var i = 0; i < ids.length; i++) {
              document.getElementById(ids[i]).onclick = openWindowPopup;
            }
          })();
          </script>
          <nav class="pagination" role="navigation">
            
              <a href="/blog/2013/03/coin-game/" class="basic-alignment left" title="The Coin Game">&laquo; The Coin Game</a>
            
            
              <a href="/blog/2013/03/the-empty-else-block/" class="basic-alignment right" title="The Empty Else Block">The Empty Else Block &raquo;</a>
            
          </nav><!-- /.pagination -->
        
          <div id="disqus_thread"></div><!-- /#disqus_thread -->
          
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'zsoltfabok'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = 'https://' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

        
      </div><!-- /.entry-content -->
    </div><!-- /.entry-wrapper -->
  </article>
</div><!-- /#main -->

<div class="footer-wrapper">
  <footer role="contentinfo" class="entry-wrapper">
    

<div class="social-icons">
	<a href="https://twitter.com/ZsoltFabok" title="Zsolt Fabók on Twitter" target="_blank"><i class="fa fa-twitter-square fa-2x"></i></a>
  <a href="http://www.slideshare.net/fabokzs" title="Zsolt Fabók on Slideshare" target="_blank"><i class="fa fa-slideshare fa-2x"></i></a>
	<a href="https://facebook.com/zsoltfabokcom" title="Zsolt Fabók on Facebook" target="_blank"><i class="fa fa-facebook-square fa-2x"></i></a>
	<a href="https://plus.google.com/+ZsoltFabok" title="Zsolt Fabók on Google+" target="_blank"><i class="fa fa-google-plus-square fa-2x"></i></a>
	<a href="https://linkedin.com/in/zsoltfabok" title="Zsolt Fabók on LinkedIn" target="_blank"><i class="fa fa-linkedin-square fa-2x"></i></a>
  <a href="http://www.xing.com/profile/Zsolt_Fabok" title="Zsolt Fabók on Xing" target="_blank"><i class="fa fa-xing-square fa-2x"></i></a>
	<a href="http://pm.stackexchange.com/users/468/zsolt" title="Zsolt Fabók on StackExchange" target="_blank"><i class="fa fa-stack-exchange fa-2x"></i></a>
	<a href="https://instagram.com/fabokzs" title="Zsolt Fabók on Instagram" target="_blank"><i class="fa fa-instagram fa-2x"></i></a>
	
	<a href="https://github.com/ZsoltFabok" title="Zsolt Fabók on Github" target="_blank"><i class="fa fa-github-square fa-2x"></i></a>
	
  
	
  <a href="/feed.xml" title="Atom/RSS feed"><i class="fa fa-rss-square fa-2x"></i></a>
</div><!-- /.social-icons -->
<span>&copy; 2020 Zsolt Fabók. Powered by <a href="http://jekyllrb.com" rel="nofollow">Jekyll</a> using the <a href="http://mademistakes.com/so-simple/" rel="nofollow">So Simple Theme</a>.</span>

  </footer>
</div><!-- /.footer-wrapper -->

<script type="text/javascript">
  var BASE_URL = '';
</script>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script src="/assets/js/scripts.min.js"></script>


<!-- Asynchronous Google Analytics snippet -->
<script>
  var _gaq = _gaq || [];
  var pluginUrl =
 'https://www.google-analytics.com/plugins/ga/inpage_linkid.js';
  _gaq.push(['_require', 'inpage_linkid', pluginUrl]);
  _gaq.push(['_setAccount', 'UA-16780667-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = 'https://stats.g.doubleclick.net/dc.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>



</body>
</html>
